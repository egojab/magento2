<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    design
 * @package     default_default
 * @copyright   Copyright (c) 2013 X.commerce, Inc. (http://www.magentocommerce.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
/* @var $this Mage_Core_Block_Template */
?>
<script id="attribute-template" type="text/x-jquery-tmpl">
    <div class="entry-edit">
        <input name="attributes[]" id="configurable_attribute_${attribute.id}"
            value="${attribute.id}" type="hidden">
        <input value="new" type="hidden"
            name="product[configurable_attributes_data][${attribute.id}]][id]"/>
        <input value="${attribute.id}" type="hidden"
            name="product[configurable_attributes_data][${attribute.id}][attribute_id]"/>
        <input value="" type="hidden"
            name="product[configurable_attributes_data][${attribute.id}][position]"/>
        <input value="${attribute.code}" type="hidden"
            name="product[configurable_attributes_data][${attribute.id}][code]"/>

        <div class="entry-edit-head" style="cursor: move;">
            <span class="ui-icon ui-icon-arrowthick-2-n-s" style="float:left"></span>
            <h4 class="icon-head head-edit-form fieldset-legend">
                <input value="${attribute.label}"
                    name="product[configurable_attributes_data][${attribute.id}][label]"
                    data-store-label="${attribute.label}"
                    class="store-label required-entry"/>
                <label for="attribute-${attribute.id}">
                    <input value="1"
                        type="checkbox"
                        class="use-default"
                        name="product[configurable_attributes_data][${attribute.id}][use_default]"
                        id="attribute-${attribute.id}"/>
                    <?php echo Mage::helper('Mage_Catalog_Helper_Data')->__('Use default')?>
            </h4>
            <span class="ui-icon ui-icon-circle-close remove"></span>
            <span class="ui-icon ui-icon-circle-triangle-s toggle"></span>
        </div>
        <fieldset>
            <table style="width:100%">
                <thead>
                <tr>
                    <th>
                        <?php echo Mage::helper('Mage_Catalog_Helper_Data')->__('Option Value')?>
                    </th>
                    <th class="column-price">
                        <?php echo Mage::helper('Mage_Catalog_Helper_Data')->__('Change Price')?>
                    </th>
                    <th>
                        <?php echo Mage::helper('Mage_Catalog_Helper_Data')->__('Include')?>
                    </th>
                </tr>
                </thead>
                <tbody>
                {{each(index, option) attribute.options}}
                <tr>
                    <td>${option.label}</td>
                    <td class="column-price">
                        <input type="hidden"
                            name="product[configurable_attributes_data][${attribute.id}][values][${option.value}][value_index]"
                            value="${option.value}">
                        <input type="text"
                            name="product[configurable_attributes_data][${attribute.id}][values][${option.value}][pricing_value]"
                            value="">
                        <select
                            name="product[configurable_attributes_data][${attribute.id}][values][${option.value}][is_percent]">
                            <option value="0">
                                <?php echo Mage::helper('Mage_Catalog_Helper_Data')->__('Fixed')?>
                            </option>
                            <option value="1">
                                <?php echo Mage::helper('Mage_Catalog_Helper_Data')->__('Percentage')?>
                            </option>
                        </select>
                    </td>
                    <td>
                        <input type="hidden"
                            name="product[configurable_attributes_data][${attribute.id}][values][${option.value}][include]"
                            value="0"/>
                        <input type="checkbox" class="include"
                            name="product[configurable_attributes_data][${attribute.id}][values][${option.value}][include]"
                            value="1" checked="checked"/>
                    </td>
                </tr>
                {{/each}}
                </tbody>
            </table>
            <label>
                <input type="checkbox" class="price-variation" />
                <?php echo Mage::helper('Mage_Catalog_Helper_Data')->__('Have price variations')?>
            </label>
        </fieldset>
    </div>
</script>
